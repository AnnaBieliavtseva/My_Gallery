import{a as L,S,i as c}from"./assets/vendor-D0cagnvz.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();async function f(t=1){return(await L("https://pixabay.com/api/",{params:{key:"29882819-d1b2e59da7ad20757f8559035",q:h,image_type:"photo",orientation:"horizontal",safesearch:!0,page:s,per_page:u}})).data}function m(t){return t.map(({webformatURL:r,largeImageURL:i,tags:a,likes:e,views:o,comments:n,downloads:b})=>`<li class="photo-card">
          <a href="${i}" class="link">
          <img src="${r}" alt="${a}" class="photo-card-img"/></a>
          <div class="info">
          <p class="info-item">Likes: <b>${e}</b></p>
          <p class="info-item">Views: <b>${o}</b></p>
          <p class="info-item">Comments: <b>${n}</b></p>
          <p class="info-item">Downloads:<b>${b}</b></p>
          </div>
       
        </li>`).join("")}const p=document.querySelector(".gallery"),v=document.querySelector(".search-form"),l=document.querySelector(".loader"),d=document.querySelector(".js-load");let h,s=1,u=15,g=new S(".gallery a",{captionsData:"alt",captionDelay:300});v.addEventListener("submit",w);d.addEventListener("click",P);function w(t){if(t.preventDefault(),h=t.target.elements.searchQuery.value.trim(),h===""){c.warning({message:"Please enter some data",position:"topRight"});return}h&&(s=1),p.innerHTML="",l.classList.remove("hidden"),f(s).then(r=>{if(r.hits.length){p.insertAdjacentHTML("beforeend",m(r.hits));const a=document.querySelector(".photo-card").getBoundingClientRect();y(a),g.refresh(),r.totalHits<u||s===Math.ceil(r.totalHits/u)?d.classList.add("hidden"):d.classList.remove("hidden")}else c.error({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"})}).catch(r=>{console.log(r),c.error({message:"Sorry, there are some problems with connection. Please reload the page and try again!",position:"topRight"})}).finally(()=>{t.target.elements.searchQuery.value="",l.classList.add("hidden")}),d.classList.add("hidden")}function P(){s+=1,l.classList.remove("hidden"),f(s).then(t=>{p.insertAdjacentHTML("beforeend",m(t.hits));const i=document.querySelector(".photo-card").getBoundingClientRect();y(i),g.refresh(),s===Math.ceil(t.totalHits/u)&&(l.classList.add("hidden"),c.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"}),d.classList.add("hidden"))}).catch(t=>{console.log(t),c.error({message:"Sorry, there are some problems with connection. Please reload the page and try again!",position:"topRight"})}).finally(()=>{l.classList.add("hidden")})}function y(t){window.scrollBy({top:2*t.height,left:0,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
