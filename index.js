import{S as b,i as a}from"./assets/vendor-5ObWk2rO.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function u(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=u(t);fetch(t.href,r)}})();function f(o){return o.map(({webformatURL:e,largeImageURL:u,tags:n,likes:t,views:r,comments:i,downloads:y})=>`<li class="photo-card">
          <a href="${u}" class="link">
<img src="${e}" alt="${n}" height="250" width="350"/></a>
          <div class="info">
          <p class="info-item">Likes: <b>${t}</b></p>
          <p class="info-item">Views: <b>${r}</b></p>
          <p class="info-item">Comments: <b>${i}</b></p>
          <p class="info-item">Downloads:<b> ${y}</b></p>
          </div>

        </li>`).join("")}const p=document.querySelector(".gallery"),L=document.querySelector(".search-form"),l=document.querySelector(".loader"),d=document.querySelector(".js-load");let s=1,m=new b(".gallery a",{captionsData:"alt",captionDelay:300}),c;L.addEventListener("submit",S);d.addEventListener("click",v);const P="29882819-d1b2e59da7ad20757f8559035",h=new URLSearchParams({key:P,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15});function g(o=1){return fetch(`https://pixabay.com/api/?${h}&page=${s}`).then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})}function S(o){if(o.preventDefault(),c=o.target.elements.searchQuery.value.trim(),c===""){a.warning({message:"Please enter some data",position:"topRight"});return}h.set("q",c),console.log(h.per_page),c&&(s=1),p.innerHTML="",l.classList.remove("hidden"),g(s).then(e=>{e.hits.length?(p.insertAdjacentHTML("beforeend",f(e.hits)),m.refresh(),d.classList.remove("hidden")):a.error({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"})}).catch(e=>{console.log(e),a.error({message:"Sorry, there are some problems with connection. Please reload the page and try again!",position:"topRight"})}).finally(()=>{o.target.elements.searchQuery.value="",l.classList.add("hidden")}),d.classList.add("hidden")}function v(){l.classList.remove("hidden"),s+=1;const o=+h.get("per_page");g(s).then(e=>{p.insertAdjacentHTML("beforeend",f(e.hits)),m.refresh(),s===Math.ceil(e.totalHits/o)&&(a.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"}),d.classList.add("hidden"))}).catch(e=>{console.log(e),a.error({message:"Sorry, there are some problems with connection. Please reload the page and try again!",position:"topRight"})}).finally(()=>{l.classList.add("hidden")})}
//# sourceMappingURL=index.js.map
